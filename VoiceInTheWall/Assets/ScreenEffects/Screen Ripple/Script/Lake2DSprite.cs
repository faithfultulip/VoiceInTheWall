using UnityEngine;[RequireComponent(typeof(SpriteRenderer))]public class Lake2DSprite : MonoBehaviour{	public Vector3 m_LocalPosition = new Vector3 (0, -0.25f, 0);	public Vector3 m_LocalRotation = new Vector3 (0, 0, -180);	[Tooltip("Optionnal: The reflected sprite. If null it will be a copy of self.")]	public Sprite m_ReflSprite;	public string m_SpriteLayer = "Default";	public int m_SpriteLayerOrder = -5;	SpriteRenderer m_SpriteSource;	SpriteRenderer m_SpriteRenderer;	void Awake ()	{		GameObject go = new GameObject ("Reflection");		go.transform.parent = this.transform;		go.transform.localPosition = m_LocalPosition;		go.transform.localRotation = Quaternion.Euler (m_LocalRotation);		go.transform.localScale = new Vector3 (go.transform.localScale.x, go.transform.localScale.y, go.transform.localScale.z);		m_SpriteRenderer = go.AddComponent<SpriteRenderer> ();		m_SpriteRenderer.sortingLayerName = m_SpriteLayer;		m_SpriteRenderer.sortingOrder = m_SpriteLayerOrder;    		m_SpriteSource = GetComponent<SpriteRenderer> ();	}	void OnDestroy ()	{		if (m_SpriteRenderer != null)			Destroy (m_SpriteRenderer.gameObject);	}	void LateUpdate ()	{		if (m_SpriteSource != null)		{			if (m_ReflSprite == null)				m_SpriteRenderer.sprite = m_SpriteSource.sprite;			else				m_SpriteRenderer.sprite = m_ReflSprite;			m_SpriteRenderer.color = m_SpriteSource.color;		}	}}